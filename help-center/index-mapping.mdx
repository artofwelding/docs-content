Mapping is the process of defining how a document and the fields it contains are
stored and indexed. Before you ingest documents into your index, it is
recommended to design its mapping.

A document is a collection of fields where each field has a specific data type.
When you map your data, you create a mapping definition that contains a list of
fields with their corresponding data type that are pertinent to the document.
The mapping definition automatically includes metadata fields that govern the
way metadata is handled.

There are two methods to design mapping definitions:

* dynamic mapping,
* explicit mapping.

These methods provide different benefits based on your needs and the
characteristics of your data.

## Dynamic mapping

The automatic detection and addition of new fields is called _dynamic mapping_.
With dynamic mapping, you don't need to create an index, define its mapping type
and the fields. Index a document and Elasticsearch will create the index, the
mapping, and the fields automatically based on the characteristics of the
ingested documents. This mapping method enables you to start exploring your data
as quickly as possible.

If you run a request like this:

```js
PUT books/_doc/1
{
    "title": "Parallel Stories",
    "author": "Péter Nádas",
    "pages": 1520
}
```

Elasticsearch will automatically create the `books` index, ingest the
document, and define the mapping for it based on the ingested fields.

Check the defined mapping by running the following request:

```js
GET books/_mapping
```

The response shows that the `title` and `author` fields are stored as `text`
field types with a `keyword` type nested field. It means that fields containing
text are stored both as `text` and `keyword`. The `pages` field is mapped
automatically as a `long` type field.

Dynamic mapping is the recommended way to define mapping when you're getting
started with Elasticsearch and it's the default behavior when you ingest
documents without explicitly defining a mapping.

For more information on dynamic mapping rules, check the
[Dynamic field mapping](https://www.elastic.co/guide/en/elasticsearch/reference/current/dynamic-field-mapping.html)
documentation.

## Explicit mapping

Explicit mapping provides the most control over your index mapping definition as
it enables you to specify the type of every field in an index. For example, you
can define the acceptable formats of a data type field, choose which strings
need to be stored as full text fields or keyword fields, and specify fieds that
contain geolocations - and more.

You can both specify field mapping when you create an index and add new fields
to an existing index.

The following example demonstrates of creating an index called `my-log-data-001`
and its mapping.

```js
PUT my-log-data-001
{
  "mappings": {
    "properties": {
      "client_ip": {
        "type": "ip"
      },
      "url": {
        "type": "text"
      },
      "bytes": {
        "type": "integer"
      },
      "location": {
        "type": "geo_point"
      },
      "date": {
        "type":   "date",
        "format": "yyyy-MM-dd HH:mm:ss||yyyy-MM-dd||epoch_millis"
      }
    }
  }
}
```

The index consists of an `ip` field that stores IP addresses, a `text` field for
URLs, an `integer` for storing the amount of bytes transmitted, a `geo_point` 
storing locations, and a `date` for the dates with multiple acceptable formats
specified. The formats are separated with `||`.

Refer to the
[documentation](https://www.elastic.co/guide/en/elasticsearch/reference/current/mapping-types.html)
for the data type reference.

## View the mapping

You can check the mapping of an existing index by calling the get mapping API:

```js
GET /my-log-data-001/_mapping
```

You can also view the mapping of a specific field in an index:

```js
GET /my_log_data-001/_mapping/field/location
```

<DocCallOut color="warning" title="Mapping explosion">
Defining too many fields in an index can lead to a mapping explosion, which can
cause out of memory errors and difficult situations to recover from.
Use the [mapping limit](https://www.elastic.co/guide/en/elasticsearch/reference/current/mapping-settings-limit.html)
settings to limit the number of field mappings and prevent documents from
causing a mapping explosion.
</DocCallOut>
